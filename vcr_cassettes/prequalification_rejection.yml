---
http_interactions:
- request:
    method: post
    uri: https://partners.staging-youlendapi.com/prequalification/Requests/
    body:
      encoding: UTF-8
      string: '{"companyType":"soleTrader","companyName":"TestCompany","countryISOCode":"GBR","loanCurrencyISOCode":"GBP","thirdPartyMerchantId":"1234","financialData":{"paymentData":[{"PaymentDate":"2020-10-01","Amount":50,"currencyISOCode":"GBP"},{"PaymentDate":"2020-09-01","Amount":50,"currencyISOCode":"GBP"},{"PaymentDate":"2020-08-01","Amount":50,"currencyISOCode":"GBP"},{"PaymentDate":"2020-07-01","Amount":50,"currencyISOCode":"GBP"},{"PaymentDate":"2020-06-01","Amount":50,"currencyISOCode":"GBP"},{"PaymentDate":"2020-05-01","Amount":50,"currencyISOCode":"GBP"},{"PaymentDate":"2020-04-01","Amount":50,"currencyISOCode":"GBP"},{"PaymentDate":"2020-03-01","Amount":50,"currencyISOCode":"GBP"},{"PaymentDate":"2020-02-01","Amount":50,"currencyISOCode":"GBP"},{"PaymentDate":"2020-01-01","Amount":50,"currencyISOCode":"GBP"},{"PaymentDate":"2019-12-01","Amount":50,"currencyISOCode":"GBP"},{"PaymentDate":"2019-11-01","Amount":50,"currencyISOCode":"GBP"}]}}'
    headers:
      Content-Type:
      - application/json
      User-Agent:
      - ruby-youlend-1.0.0
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 401
      message: Unauthorized
    headers:
      Date:
      - Wed, 03 Feb 2021 14:36:25 GMT
      Server:
      - Microsoft-IIS/10.0
      Www-Authenticate:
      - Bearer
      X-Powered-By:
      - ASP.NET
      Transfer-Encoding:
      - chunked
      Connection:
      - keep-alive
    body:
      encoding: UTF-8
      string: ''
    http_version:
  recorded_at: Wed, 03 Feb 2021 14:36:25 GMT
- request:
    method: post
    uri: https://youlend-stag.eu.auth0.com/oauth/token
    body:
      encoding: UTF-8
      string: '{"grant_type":"client_credentials","client_id":"<CLIENT_ID>","client_secret":"<CLIENT_SECRET>","audience":"https://staging.youlendapi.com/prequalification"}'
    headers:
      Content-Type:
      - application/json
      User-Agent:
      - ruby-youlend-1.0.0
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Wed, 03 Feb 2021 14:36:26 GMT
      Content-Type:
      - application/json
      Transfer-Encoding:
      - chunked
      Connection:
      - keep-alive
      Set-Cookie:
      - __cf_bm=235e30fc193309999ef89bca903fc5405b1c7568-1612362986-1800-Aa86rAdDlFuz86lAJ2Cn40ritESXL5QkrgoyrqAzzxzLaIuza+LHur1L/Ad2hYqFIMwk5Np8cQANZ29ouO1U79w=;
        path=/; expires=Wed, 03-Feb-21 15:06:26 GMT; domain=.eu.auth0.com; HttpOnly;
        Secure; SameSite=None
      - __cfduid=d403a11f64ca9905d96b2a48e751bcae71612362985; expires=Fri, 05-Mar-21
        14:36:25 GMT; path=/; domain=.eu.auth0.com; HttpOnly; SameSite=Lax; Secure
      - did=s%3Av0%3A31c81610-662d-11eb-babc-3b7b17fdefdd.wdYsqQ2zbHFmVR%2BZx5f3MP7w4NtWUbP5MupQeHv%2Beik;
        Max-Age=31557600; Path=/; Expires=Thu, 03 Feb 2022 20:36:25 GMT; HttpOnly;
        Secure; SameSite=None
      - did_compat=s%3Av0%3A31c81610-662d-11eb-babc-3b7b17fdefdd.wdYsqQ2zbHFmVR%2BZx5f3MP7w4NtWUbP5MupQeHv%2Beik;
        Max-Age=31557600; Path=/; Expires=Thu, 03 Feb 2022 20:36:26 GMT; HttpOnly;
        Secure
      Cf-Ray:
      - 61bce2556f315d4b-LIS
      Cache-Control:
      - no-store
      Strict-Transport-Security:
      - max-age=31536000
      Vary:
      - Accept-Encoding
      Cf-Cache-Status:
      - DYNAMIC
      Cf-Request-Id:
      - '0809ebc96100005d4b1f9ea000000001'
      Expect-Ct:
      - max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"
      Ot-Baggage-Auth0-Request-Id:
      - 61bce2556f315d4b
      Ot-Tracer-Sampled:
      - 'true'
      Ot-Tracer-Spanid:
      - 0c681fc563b7c0bf
      Ot-Tracer-Traceid:
      - 235ae9ed312caa2e
      Pragma:
      - no-cache
      X-Auth0-Requestid:
      - 5f1f5da57a94bc9dfd02
      X-Content-Type-Options:
      - nosniff
      X-Ratelimit-Limit:
      - '30'
      X-Ratelimit-Remaining:
      - '29'
      X-Ratelimit-Reset:
      - '1612362987'
      Server:
      - cloudflare
      Alt-Svc:
      - h3-27=":443"; ma=86400, h3-28=":443"; ma=86400, h3-29=":443"; ma=86400
    body:
      encoding: ASCII-8BIT
      string: '{"access_token":"eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6Ik0wUXdOMEl5TnpRMVJrRXhNa1pGTlVWRU5UQTJRalV6UWtRMVJUY3dORE0xUVVVM05rTkVRZyJ9.eyJodHRwOi8veW91bGVuZC5jb20vY2xhaW1zL2xlbmRpbmdQYXJ0bmVySWQiOiJkOGJmZTcwMy1lODBlLTRlMzUtYmFhYS1mZDk2MWU3ZGZlZTkiLCJpc3MiOiJodHRwczovL3lvdWxlbmQtc3RhZy5ldS5hdXRoMC5jb20vIiwic3ViIjoidXpLVEcyQ0NBZkFZQ0pGU0I3N3ZXRlVOelVOOHZxdlhAY2xpZW50cyIsImF1ZCI6Imh0dHBzOi8vc3RhZ2luZy55b3VsZW5kYXBpLmNvbS9wcmVxdWFsaWZpY2F0aW9uIiwiaWF0IjoxNjEyMzYyOTg2LCJleHAiOjE2MTI0NDkzODYsImF6cCI6InV6S1RHMkNDQWZBWUNKRlNCNzd2V0ZVTnpVTjh2cXZYIiwiZ3R5IjoiY2xpZW50LWNyZWRlbnRpYWxzIn0.oJMaLz4MjPJ1vkHM8iH9KsaQavTaMmYwfku6TZ9J27a69zBCRfQmq-5yh7pi0pwQBaZF3e_XqOKZ54ZOZ_5SXssEXUS-G9g1o4czuHPkKhUWlB3ZXBDvvmO4XiKgkBcf3oU4WTHalmGFXbm2NA9Wa2GycTvzt1i8d5QTETKmF8lxrM_cjXWk2dud5d1jjGRaPY5XKu0on_zZvFRw1-3OzcbbCry_aPbdnha0_x40wPXhmfbxEf142MYr05Fc5P8dL_gtHqK21BIdX-isgdllLhcQiPYBveyTG7-NFdIkz1wFSbtzKN59Kf7qGS6tXJaDwTlr4nMZdz_DhTU2wYewqg","expires_in":86400,"token_type":"Bearer"}'
    http_version:
  recorded_at: Wed, 03 Feb 2021 14:36:26 GMT
- request:
    method: post
    uri: https://partners.staging-youlendapi.com/prequalification/Requests/
    body:
      encoding: UTF-8
      string: '{"companyType":"soleTrader","companyName":"TestCompany","countryISOCode":"GBR","loanCurrencyISOCode":"GBP","thirdPartyMerchantId":"1234","financialData":{"paymentData":[{"PaymentDate":"2020-10-01","Amount":50,"currencyISOCode":"GBP"},{"PaymentDate":"2020-09-01","Amount":50,"currencyISOCode":"GBP"},{"PaymentDate":"2020-08-01","Amount":50,"currencyISOCode":"GBP"},{"PaymentDate":"2020-07-01","Amount":50,"currencyISOCode":"GBP"},{"PaymentDate":"2020-06-01","Amount":50,"currencyISOCode":"GBP"},{"PaymentDate":"2020-05-01","Amount":50,"currencyISOCode":"GBP"},{"PaymentDate":"2020-04-01","Amount":50,"currencyISOCode":"GBP"},{"PaymentDate":"2020-03-01","Amount":50,"currencyISOCode":"GBP"},{"PaymentDate":"2020-02-01","Amount":50,"currencyISOCode":"GBP"},{"PaymentDate":"2020-01-01","Amount":50,"currencyISOCode":"GBP"},{"PaymentDate":"2019-12-01","Amount":50,"currencyISOCode":"GBP"},{"PaymentDate":"2019-11-01","Amount":50,"currencyISOCode":"GBP"}]}}'
    headers:
      Authorization:
      - Bearer eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6Ik0wUXdOMEl5TnpRMVJrRXhNa1pGTlVWRU5UQTJRalV6UWtRMVJUY3dORE0xUVVVM05rTkVRZyJ9.eyJodHRwOi8veW91bGVuZC5jb20vY2xhaW1zL2xlbmRpbmdQYXJ0bmVySWQiOiJkOGJmZTcwMy1lODBlLTRlMzUtYmFhYS1mZDk2MWU3ZGZlZTkiLCJpc3MiOiJodHRwczovL3lvdWxlbmQtc3RhZy5ldS5hdXRoMC5jb20vIiwic3ViIjoidXpLVEcyQ0NBZkFZQ0pGU0I3N3ZXRlVOelVOOHZxdlhAY2xpZW50cyIsImF1ZCI6Imh0dHBzOi8vc3RhZ2luZy55b3VsZW5kYXBpLmNvbS9wcmVxdWFsaWZpY2F0aW9uIiwiaWF0IjoxNjEyMzYyOTg2LCJleHAiOjE2MTI0NDkzODYsImF6cCI6InV6S1RHMkNDQWZBWUNKRlNCNzd2V0ZVTnpVTjh2cXZYIiwiZ3R5IjoiY2xpZW50LWNyZWRlbnRpYWxzIn0.oJMaLz4MjPJ1vkHM8iH9KsaQavTaMmYwfku6TZ9J27a69zBCRfQmq-5yh7pi0pwQBaZF3e_XqOKZ54ZOZ_5SXssEXUS-G9g1o4czuHPkKhUWlB3ZXBDvvmO4XiKgkBcf3oU4WTHalmGFXbm2NA9Wa2GycTvzt1i8d5QTETKmF8lxrM_cjXWk2dud5d1jjGRaPY5XKu0on_zZvFRw1-3OzcbbCry_aPbdnha0_x40wPXhmfbxEf142MYr05Fc5P8dL_gtHqK21BIdX-isgdllLhcQiPYBveyTG7-NFdIkz1wFSbtzKN59Kf7qGS6tXJaDwTlr4nMZdz_DhTU2wYewqg
      Content-Type:
      - application/json
      User-Agent:
      - ruby-youlend-1.0.0
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Api-Supported-Versions:
      - '1.0'
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Wed, 03 Feb 2021 14:36:33 GMT
      Server:
      - Microsoft-IIS/10.0
      X-Powered-By:
      - ASP.NET
      Transfer-Encoding:
      - chunked
      Connection:
      - keep-alive
    body:
      encoding: UTF-8
      string: '{"thirdPartyMerchantId":"1234","mid":null,"companyName":"TestCompany","overallCreditRiskScore":1.0,"overrideCreditRiskScore":1.0,"loanOptions":[{"fundedAmount":0.0,"fee":0.00,"loanAmount":0.00,"sweep":0.0,"currencyISOCode":"GBP"},{"fundedAmount":0.0,"fee":0.0,"loanAmount":0.0,"sweep":0.0,"currencyISOCode":"GBP"},{"fundedAmount":0.0,"fee":0.0,"loanAmount":0.0,"sweep":0.0,"currencyISOCode":"GBP"}]}'
    http_version:
  recorded_at: Wed, 03 Feb 2021 14:36:33 GMT
recorded_with: VCR 5.0.0
